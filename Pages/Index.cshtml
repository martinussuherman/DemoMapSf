@page
@model IndexModel

@using Syncfusion.EJ2;
@using Syncfusion.EJ2.Maps;

@{
    ViewData["Title"] = "Home page";
    var data = new[]
    {
        new {latitude= 37.0000, longitude= -120.0000, city= "California" },
        new {latitude= 40.7127, longitude= -74.0059, city= "New York" },
        new {latitude= 42.0000, longitude= -93.0000, city= "Iowa" }
    };
    var marker = new List<MapsMarker>
    {
        new MapsMarker
        {
            Visible=true, 
            Template="#template", 
            DataSource=data
        }
    };
    @* var marker = new List<MapsMarker>
    {
        new MapsMarker
        {
            Visible=true, 
            Shape=MarkerType.Balloon, 
            LegendText="city", 
            DataSource=data
        }
    }; *@

    var titleStyle = new MapsFont
    {
        Size = "16px",
    };

    var cluster = new MapsMarkerClusterSettings
    {
        AllowClustering=true,
        Shape= Syncfusion.EJ2.Maps.MarkerType.Image,
        Height=40,
        Width=40,
        ImageUrl=Url.Content("~/cluster.svg"),
        LabelStyle= new MapsFont {
            Color="White"
        }
    };

    var tooltip = new MapsTooltipSettings
    {
        Visible = true,
        ValuePath = "city"
    };
}

<ejs-maps 
    id="maps" 
    format="n" 
    useGroupingSeparator="true" 
    load="window.onMapLoad">

    <e-maps-titlesettings 
        alignment="@Syncfusion.EJ2.Maps.Alignment.Center" 
        text="Protaru Demo" 
        textStyle="titleStyle">
    </e-maps-titlesettings>

    <e-maps-zoomsettings 
        enable="true" 
        toolbars="Model.Toolbars" 
        pinchZooming="true" 
        shouldZoomInitially="true" 
        horizontalAlignment="Near">
    </e-maps-zoomsettings>

    <e-maps-layers>
        <e-maps-layer LayerType="OSM" markerClusterSettings="cluster">
        @* <e-maps-layer shapeData="ViewBag.world" markerClusterSettings="cluster"> *@
            <e-layersettings-shapesettings fill="#C1DFF5"></e-layersettings-shapesettings>
            <e-layersettings-markers>
                <e-layersettings-marker 
                    visible="true" 
                    shape="Image" 
                    imageUrl="@Url.Content("~/ballon.png")"
                    height="20" 
                    width="20" 
                    animationDuration="0" 
                    tooltipSettings="tooltip" 
                    dataSource="data">
                </e-layersettings-marker>
            </e-layersettings-markers>
        </e-maps-layer>
    </e-maps-layers>
</ejs-maps>

@* <ejs-maps id="maps">
    <e-maps-layers>
        <e-maps-layer LayerType="OSM" markerSettings="marker" tooltipSettings="tooltip"></e-maps-layer>
    </e-maps-layers>
</ejs-maps> *@

<div id="template" style="display: none;">
    <div>
        <div style="margin-left:8px;height:45px;width:120px;margin-top:-23px;">
            <label style="color:black;margin-left:15px;font-weight:normal;">\{\{\:city\}\}</label>
        </div>
    </div>
</div>

@* <ejs-maps id="maps">
    <e-maps-layers>
        <e-maps-layer layerType="Bing" bingMapType="AerialWithLabel" key="@Model.BingKey"></e-maps-layer>
    </e-maps-layers>
</ejs-maps> *@